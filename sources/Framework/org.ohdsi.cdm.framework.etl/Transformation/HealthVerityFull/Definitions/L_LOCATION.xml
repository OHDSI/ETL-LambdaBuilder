<QueryDefinition>
	<Query>
		with l as
		(
		SELECT patient_state, patient_zip3
		FROM {sc}.enrollment
		where COALESCE(NULLIF(patient_state, ''), NULLIF(patient_zip3, '')) is not null
		UNION
		SELECT patient_state, patient_zip3
		FROM {sc}.medical_claims
		where COALESCE(NULLIF(patient_state, ''), NULLIF(patient_zip3, '')) is not null
		UNION
		SELECT patient_state, patient_zip3
		FROM {sc}.pharmacy_claims
		where COALESCE(NULLIF(patient_state, ''), NULLIF(patient_zip3, '')) is not null
		UNION
		SELECT patient_state, patient_zip3
		FROM {sc}.events
		where COALESCE(NULLIF(patient_state, ''), NULLIF(patient_zip3, '')) is not null
		)
		select
		ROW_NUMBER() OVER(ORDER BY patient_state, patient_zip3) AS Id,
		patient_state,
		patient_zip3,
		COALESCE(patient_state, '') || '|' || COALESCE(patient_zip3, '') AS source_value,
		42046186 AS country_concept_id,
		'United States of America' AS country_source_value
		from l
	</Query>
	<Locations>
		<LocationDefinition>
			<Id>Id</Id>
			<State>patient_state</State>
			<SourceValue>source_value</SourceValue>
			<Zip>patient_zip3</Zip>
			<CountryConceptId>country_concept_id</CountryConceptId>
			<CountrySourceValue>country_source_value</CountrySourceValue>
		</LocationDefinition>
	</Locations>
</QueryDefinition>